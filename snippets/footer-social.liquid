{%- assign social_media_count = 1 -%}
{%- capture social_media -%}
 {%- if settings.social_facebook != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_facebook | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="Facebook">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'Facebook.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}

  {%- if settings.social_twitter != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_twitter | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="Twitter">
        <span class="Icon-Wrapper--clickable"> 
          <img src="{{ 'Twitter.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}

  {%- if settings.social_instagram != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_instagram | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="Instagram">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'Instagram.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}

  {%- if settings.social_youtube != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_youtube | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="YouTube">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'YouTube.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}

  {%- if settings.social_linkedin != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_linkedin | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="LinkedIn">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'LinkedIn.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}
  
  {%- if settings.social_yelp != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_yelp | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="Yelp">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'Yelp.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}

  {%- if settings.social_AngiesList != blank -%}
    <li class="HorizontalList__Item">
      <a href="{{ settings.social_AngiesList | replace_first: 'https://', '' | replace_first: 'http://', '' | prepend: 'https://' }}" class="Link Link--primary" target="_blank" rel="noopener" aria-label="AngiesList">
        <span class="Icon-Wrapper--clickable">
          <img src="{{ 'Angie_s_List.png' | asset_url }}" class="Icon"/>
        </span>
      </a>
    </li>

    {% assign social_media_count = social_media_count | plus: 1 %}
  {%- endif -%}
{%- endcapture -%}

{%- assign spacing_to_use = spacing -%}

{%- if spacing == 'large' and social_media_count > 6 -%}
  {%- assign spacing_{{social_media_count }}
to_use = 'small' -%}
{%- endif -%}
{%- if social_media_count > 0 -%}
  <ul class="{{ class }} HorizontalList {% if spacing %}HorizontalList--spacing{{ spacing | capitalize }}{% endif %}">
    {{ social_media }}
  </ul>
{%- endif -%}